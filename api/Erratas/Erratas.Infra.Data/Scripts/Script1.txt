CREATE TABLE [dbo].[Cargo] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](100),
    CONSTRAINT [PK_dbo.Cargo] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[CargoPermissao] (
    [Id] [uniqueidentifier] NOT NULL,
    [CargoId] [uniqueidentifier] NOT NULL,
    [PermissaoId] [uniqueidentifier] NOT NULL,
    [Ativo] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.CargoPermissao] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Permissao] (
    [Id] [uniqueidentifier] NOT NULL,
    [Descricao] [varchar](100),
    [Abreviacao] [varchar](100),
    CONSTRAINT [PK_dbo.Permissao] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Usuario] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](100) NOT NULL,
    [SobreNome] [varchar](100) NOT NULL,
    [Email] [varchar](100) NOT NULL,
    [Senha] [varchar](100),
    [CargoId] [uniqueidentifier] NOT NULL,
    [Ativo] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Usuario] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_CargoId] ON [dbo].[CargoPermissao]([CargoId])
CREATE INDEX [IX_PermissaoId] ON [dbo].[CargoPermissao]([PermissaoId])
CREATE INDEX [IX_CargoId] ON [dbo].[Usuario]([CargoId])
ALTER TABLE [dbo].[CargoPermissao] ADD CONSTRAINT [FK_dbo.CargoPermissao_dbo.Cargo_CargoId] FOREIGN KEY ([CargoId]) REFERENCES [dbo].[Cargo] ([Id])
ALTER TABLE [dbo].[CargoPermissao] ADD CONSTRAINT [FK_dbo.CargoPermissao_dbo.Permissao_PermissaoId] FOREIGN KEY ([PermissaoId]) REFERENCES [dbo].[Permissao] ([Id])
ALTER TABLE [dbo].[Usuario] ADD CONSTRAINT [FK_dbo.Usuario_dbo.Cargo_CargoId] FOREIGN KEY ([CargoId]) REFERENCES [dbo].[Cargo] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201812010011359_AutomaticMigration', N'Erratas.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400E55BCD6EE33610BE17E83B083A16592BC95EDAC0DE45D6491641373F8893456F0B5A1A3B4425524B52418CA24FD6431FA9AFD0D13F254AB66C2B8E83C5020B993FDF0C678633430EF3DF3FFF0E3F3E07BEF5044252CE46F6D1E0D0B680B9DCA36C3EB223357BF7ABFDF1C3CF3F0DCFBDE0D9FA9A8F7B1F8FC3994C8EEC47A5C213C791EE2304440E02EA0A2EF94C0D5C1E38C4E3CEF1E1E16FCED1910308612396650DEF22A66800C90FFC39E6CC855045C4BFE21EF8326BC79E49826A5D930064485C18D9E7421085742ED94C90C1197E0F70BA8267655BA73E25C8D104FC996D11C6B8220AF93D7990305182B3F924C406E2DF2F42C07133E24BC8D671520EEFBAA4C3E378494E3931877223A978B026E0D1FB4C464E7DFA4692B60B19A214CF51DA6A11AF3A91E4C81E1331E7B655A77432F6453CAA94F219765336480028C84132F1C0AA761F148681F613FF3BB0C691AF220123069112C43FB06EA3A94FDDDF6171CFFF04366291EFEB2C2293D85769C0A65BC143106A7107B38CF14BCFB69CEA3CA73EB198A6CD4957F539A2F87D8DB4C9D487C2009CA5D3AF790039005A116E0CDBBA22CF5F80CDD5236E9943DC0A17F419BCBC25437D6014F7114E5222AA11193AA54656EBE9164440A5249B2BAC40F8B13497AC7D4B8C42745BE29C2AFAC473844F9CFB40D86A906BF244E789A69B96665B77E027BDF29186A9DFAB29FC5B36F042F0E08EFB8649A5FDDF263C126E6CE57CC9A07BFC1F54771E35BB5DCDA736B895D7F26B05BFE55713CF9D77DF561BEF07DD7367205D415DC27B76990D3B6A2AE08992FE4975B68F0719114137B28E6CEA8F651B3D45D235A94E381ACAEB903E479DFAAFB062608FE4C5F75F1FD175675131DB6F6638AC741871A5DABB4E30399592BB3461A33197CB38A92EEC9C795697289D2AD68CA2A865F4163444FF802C8DEC5F0CD1ADA090AFB04EA10E7C6400A36301012C3E5DE1714CA2ABA24C995E88329786C4EFC0436D6E471F162BA4A052EF39831098874C76107217F2C50E30792848D53CEC2A310D1DCD70D6B2A7D2083A6ABC219B7A01BB3253318D4A2B8197B12F8397DDDB9821F42E2C54CE20AF626B55F7D9A6FA165F5AEABB4898BA9B53B307DE917F6A24BE03A36914E4BE79A434EEC5776F3803449EF214ADC98D9C91193F48C8926399A51975CDC7F327A0AA21BD0CB255B51B76D3303BDB3E1C641B8EE68756002EC5EA0E536C0403A3E8A921684A685E5E79D6D7862EBB13A85B48C7E4A3584A83740DABEB986ED431CD934975F9EB8B4653CD4AF1B444D2F562693F6232A3A786DB0EB981BC6A09B229A42521A04310D0D86EB1F00E5E7F0B33C9D3F4C25D95250627AD31E4B508A7A51831BC2261882729AD3891B55893B432317E3759FFAA3E48311C5736DCD817DC16941417640EB55E248D9C5E5021555C0F9992F8CC34F6026358D539B7B8A89C96EE7F4D4DE56E2B1F1D7F6711A0B5403368042B0579816B0BE228182F130C6D1BF392FA10F18968B8A618733F0A587B346E9F9D5E15E8F3D3161361E8D4183782AE21A79ABDD685DE5D25DAE6EF5339ADBEAFAB969600BC8CBA8A94478768CD83DA712A49B68EB534FB6EC7CBAE3674A4AC696F0CA97F1BDAC67C766E39DA55B50EA235AFA16DED32BAA272AD7D6FF49E47E09E94DE02D741E5AD335FDBB3B7216877C93A8CD6DC1D2BBB1CD671B2A635F8496F7A2BBCA44DBB77A07BE3F08C5CAF3EA4A05EE47CB5DC6E98E559AB5FA31889573AC4B650384FD48B93AEC9422A08D22D33F9EE8F7D8AEB2D075C11466720555ACDB18F0F8F8E6B0F59F6E7518923A5E7777959B2F37A54C4E8F708687CBF416714C456B5A92722DC4722CC9A4989D9DF9B8EB727AA5AE1C7C4332E7D2E9907CF23FBAF04E0C4BAFCE35B867160DD08DC0327D6A1F5771F4F3336E245C3D98A9F4A316B4AD50A800D9E21BC3D5B319E036CB4B71A646D14FF5F76D336662A6F42036B3AB6CD4AEA7D01570AE6BD71AB97C37BB2BF7DF1813DF99C3EAAD59B5465DA2E3EB7AA456E5E2ADC7D4170EFAA3A3DD4999BB5B846AD777FAC623D3DEDDE32DE4A65B8070751940D36A927EFB74B68BF40D9C70AAF596B68B974EA56C14D0FCC23DB9BC6BA4D23D7FAC55DD24A411BD04A6AEDFA6F23B915947AAD0E3711D89BD2F1EA4ADD5227DF5E52D8FBB270F32A5A17F06A62E8ADDABB89BE6BE6BDAC28DC4F45D7BCCD43A7A8FD051A3A6449E72544FCF7680CDC8A3B2CC65CB219CFDD728DA37C482D47BF02453CF495A7020F07C455D8ED8294C9ABDCAFC48F9273CF14BC4B7613A93052B86408A6FE421746ECDD97D14FCAD6559E873761F208B68F25209B14970037EC53447DAFE0FBA2E188D10211878DCF80EDA92E310A29982F0AA46BCE3A0265E22BA2DD3D04A18F60F2864DC8136CC2DB83842F3027EE22BF946D0759AD88AAD8876794CC0509648651CEC79F68C35EF0FCE17F0DB74D1888390000 , N'6.2.0-61023')

alter table cargo add ativo bit

update cargo set ativo = 1 